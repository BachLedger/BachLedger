version: '3'

services:
  node1:
    container_name: node1
    image: "chainmaker"
    working_dir: "/yzchain-go/bin"
    command: "yzchain -e yz-org1 start"
    ports:
      - "17988:7988"
    volumes:
      - ./yz-org1:/yzchain-go/config/yz-org1
      - ../../../../../config/crypto-config:/yzchain-go/config/yz-org1/crypto-config
    networks:
      localnet:
        ipv4_address: 192.168.10.2

  node2:
    container_name: node2
    image: "chainmaker"
    working_dir: "/yzchain-go/bin"
    command: "yzchain -e yz-org2 start"
    ports:
      - "10002:7988"
    volumes:
      - ./yz-org2:/yzchain-go/config/yz-org2
      - ../../../../../config/crypto-config:/yzchain-go/config/yz-org2/crypto-config
    networks:
      localnet:
        ipv4_address: 192.168.10.3

  node3:
   container_name: node3
   image: "chainmaker"
   working_dir: "/yzchain-go/bin"
   command: "yzchain -e yz-org3 start"
   ports:
     - "10003:7988"
   volumes:
     - ./yz-org3:/yzchain-go/config/yz-org3
     - ../../../../../config/crypto-config:/yzchain-go/config/yz-org3/crypto-config
   networks:
     localnet:
       ipv4_address: 192.168.10.4

  node4:
   container_name: node4
   image: "chainmaker"
   working_dir: "/yzchain-go/bin"
   command: "yzchain -e yz-org4 start"
   ports:
     - "10004:7988"
   volumes:
     - ./yz-org4:/yzchain-go/config/yz-org4
     - ../../../../../config/crypto-config:/yzchain-go/config/yz-org4/crypto-config
   networks:
     localnet:
       ipv4_address: 192.168.10.5

  node5:
    container_name: node5
    image: "chainmaker"
    working_dir: "/yzchain-go/bin"
    command: "yzchain -e yz-org5 start"
    ports:
      - "10005:7988"
    volumes:
      - ./yz-org5:/yzchain-go/config/yz-org5
      - ../../../../../config/crypto-config:/yzchain-go/config/yz-org5/crypto-config
    networks:
      localnet:
        ipv4_address: 192.168.10.6

  node6:
    container_name: node6
    image: "chainmaker"
    working_dir: "/yzchain-go/bin"
    command: "yzchain -e yz-org6 start"
    ports:
      - "10006:7988"
    volumes:
      - ./yz-org6:/yzchain-go/config/yz-org6
      - ../../../../../config/crypto-config:/yzchain-go/config/yz-org6/crypto-config
    networks:
      localnet:
        ipv4_address: 192.168.10.7

  node7:
    container_name: node7
    image: "chainmaker"
    working_dir: "/yzchain-go/bin"
    command: "yzchain -e yz-org7 start"
    ports:
      - "10007:7988"
    volumes:
      - ./yz-org7:/yzchain-go/config/yz-org7
      - ../../../../../config/crypto-config:/yzchain-go/config/yz-org7/crypto-config
    networks:
      localnet:
        ipv4_address: 192.168.10.8

  node8:
    container_name: node8
    image: "chainmaker"
    working_dir: "/yzchain-go/bin"
    command: "yzchain -e yz-org8 start"
    ports:
      - "10008:7988"
    volumes:
      - ./yz-org8:/yzchain-go/config/yz-org8
      - ../../../../../config/crypto-config:/yzchain-go/config/yz-org8/crypto-config
    networks:
      localnet:
        ipv4_address: 192.168.10.9

  node9:
    container_name: node9
    image: "chainmaker"
    working_dir: "/yzchain-go/bin"
    command: "yzchain -e yz-org9 start"
    ports:
      - "10009:7988"
    volumes:
      - ./yz-org9:/yzchain-go/config/yz-org9
      - ../../../../../config/crypto-config:/yzchain-go/config/yz-org9/crypto-config
    networks:
      localnet:
        ipv4_address: 192.168.10.10

  node10:
    container_name: node10
    image: "chainmaker"
    working_dir: "/yzchain-go/bin"
    command: "yzchain -e yz-org10 start"
    ports:
      - "10010:7988"
    volumes:
      - ./yz-org10:/yzchain-go/config/yz-org10
      - ../../../../../config/crypto-config:/yzchain-go/config/yz-org10/crypto-config
    networks:
      localnet:
        ipv4_address: 192.168.10.11
networks:
  localnet:
    driver: bridge
    ipam:
      driver: default
      config:
        -
          subnet: 192.168.10.0/16
